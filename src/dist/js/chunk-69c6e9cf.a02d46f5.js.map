{"version":3,"sources":["webpack:///./src/views/login/index.vue?07d1","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?c083"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","error_mobile","on","validate","model","value","callback","$$v","mobile","expression","error_code","scopedSlots","_u","key","fn","sendCode","_v","proxy","code","Login","getUser","staticRenderFns","name","data","methods","test","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,QAAQH,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,MAAQ,MAAM,YAAc,SAAS,gBAAgBP,EAAIQ,cAAcC,GAAG,CAAC,MAAQT,EAAIU,UAAUC,MAAM,CAACC,MAAOZ,EAAU,OAAEa,SAAS,SAAUC,GAAMd,EAAIe,OAAOD,GAAKE,WAAW,YAAYZ,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,OAAS,GAAG,UAAY,GAAG,MAAQ,MAAM,YAAc,WAAW,gBAAgBP,EAAIiB,YAAYR,GAAG,CAAC,MAAQT,EAAIU,UAAUQ,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACjB,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWE,GAAG,CAAC,MAAQT,EAAIsB,WAAW,CAACtB,EAAIuB,GAAG,aAAaC,OAAM,KAAQb,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIyB,KAAKX,GAAKE,WAAW,WAAW,GAAGZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQT,EAAI0B,QAAQ,CAAC1B,EAAIuB,GAAG,QAAQnB,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQT,EAAI2B,UAAU,CAAC3B,EAAIuB,GAAG,aAAa,IAAI,IACjhCK,EAAkB,G,oCCmCtB,GACEC,KAAM,QACNC,KAFF,WAGI,MAAO,CACLf,OAAQ,cACRU,KAAM,SACNjB,aAAc,GACdS,WAAY,KAGhBc,QAAS,CACP,SADJ,WACA,iLAEA,yBAFA,OAGA,4BAHA,kDAKA,qCALA,2DAQI,MATJ,WASA,mKACA,aADA,wDAEA,kBACA,WACA,WACA,iBACA,iBANA,kBASA,gCATA,OASA,EATA,OAUA,4CACA,yBAEA,6BACA,kBAdA,qDAgBA,0CAhBA,6DAmBIrB,SA5BJ,WA6BM,MAAqB,MAAhBT,KAAKc,QACRd,KAAKO,aAAe,UACb,GAEJ,YAAYwB,KAAK/B,KAAKc,SAI3Bd,KAAKO,aAAe,GACD,MAAdP,KAAKwB,MACRxB,KAAKgB,WAAa,UACX,GAEJ,UAAUe,KAAK/B,KAAKwB,OAIzBxB,KAAKgB,WAAa,IACX,IAJLhB,KAAKgB,WAAa,WACX,KAVPhB,KAAKO,aAAe,YACb,IAcXmB,QAjDJ,WAkDA,oBChG8V,I,wBCQ1VM,EAAY,eACd,EACAlC,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAK,E,kECnBf","file":"js/chunk-69c6e9cf.a02d46f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('van-nav-bar',{attrs:{\"title\":\"登录\"}}),_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"label\":\"手机号\",\"placeholder\":\"请输入用户名\",\"error-message\":_vm.error_mobile},on:{\"input\":_vm.validate},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_c('van-field',{attrs:{\"required\":\"\",\"center\":\"\",\"clearable\":\"\",\"label\":\"验证码\",\"placeholder\":\"请输入短信验证码\",\"error-message\":_vm.error_code},on:{\"input\":_vm.validate},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.sendCode}},[_vm._v(\"发送验证码\")])]},proxy:true}]),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_c('div',{staticClass:\"btn-wrap\"},[_c('van-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.Login}},[_vm._v(\"登录\")]),_c('van-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getUser}},[_vm._v(\"获取个人信息\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <van-nav-bar title=\"登录\" />\n    <van-cell-group>\n      <van-field\n        v-model=\"mobile\"\n        required\n        label=\"手机号\"\n        placeholder=\"请输入用户名\"\n        :error-message=\"error_mobile\"\n        @input=\"validate\"\n      />\n      <van-field\n        v-model=\"code\"\n        required\n        center\n        clearable\n        label=\"验证码\"\n        placeholder=\"请输入短信验证码\"\n        :error-message=\"error_code\"\n        @input=\"validate\"\n      >\n        <template #button>\n          <van-button size=\"small\" type=\"primary\" @click=\"sendCode\">发送验证码</van-button>\n        </template>\n      </van-field>\n    </van-cell-group>\n    <div class=\"btn-wrap\">\n      <van-button type=\"info\" @click=\"Login\">登录</van-button>\n      <van-button type=\"primary\" @click=\"getUser\">获取个人信息</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reqSendCode, reqLogin, getUserIfno } from '@/api/user'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      mobile: '15138705203',\n      code: '246810',\n      error_mobile: '',\n      error_code: ''\n    }\n  },\n  methods: {\n    async sendCode() {\n      try {\n        await reqSendCode(this.mobile)\n        this.$toast.success('验证码发送成功')\n      } catch (e) {\n        this.$toast(e.response.data.message)\n      }\n    },\n    async Login() {\n      if (!this.validate()) return\n      this.$toast.loading({\n        duration: 0,\n        Overlay: true,\n        message: '加载中...',\n        forbidClick: true\n      })\n      try {\n        const res = await reqLogin(this.mobile, this.code)\n        this.$store.commit('user/setTokenInfo', res.data)\n        this.$toast.success('登录成功')\n        // this.$router.push('/')\n        const backto = this.$route.query.backto || '/'\n        this.$router.push(backto)\n      } catch (e) {\n        this.$toast.fail(e.response.data.message)\n      }\n    },\n    validate() {\n      if (!this.mobile === '') {\n        this.error_mobile = '请输入手机号'\n        return false\n      }\n      if (!/^1\\d{10}$/.test(this.mobile)) {\n        this.error_mobile = '手机号格式不正确'\n        return false\n      }\n      this.error_mobile = ''\n      if (!this.code === '') {\n        this.error_code = '请输入验证码'\n        return false\n      }\n      if (!/^\\d{6}$/.test(this.code)) {\n        this.error_code = '验证码格式错误'\n        return false\n      }\n      this.error_code = ''\n      return true\n    },\n    getUser() {\n      const res = getUserIfno()\n      console.log(res)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  .btn-wrap {\n    padding: 20px;\n    .van-button {\n      width: 100%;\n      color: #fff;\n      border-radius: 5px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=52bb30fe&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=52bb30fe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52bb30fe\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=52bb30fe&lang=scss&scoped=true&\""],"sourceRoot":""}